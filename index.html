<script>
  const SUBMIT_URL = 'https://sheetdb.io/api/v1/YOUR_ACTUAL_SHEETDB_ID_HERE'; // ğŸ‘ˆ Replace with your SheetDB API URL

  function submitData() {
    const amount = document.getElementById('amount').value;
    const subcategory = document.getElementById('subcategory').value;
    const category = document.getElementById('category').value;
    const categoryType = document.getElementById('categoryType').value;
    const nature = document.getElementById('nature').value;
    const mode = document.getElementById('mode').value;
    const description = document.getElementById('description').value;

    if (!amount || !subcategory || !category || !categoryType || !nature || !mode) {
      document.getElementById('statusMsg').textContent = "Please fill all required fields.";
      return;
    }

    const today = new Date().toLocaleDateString('en-GB'); // Format: DD/MM/YYYY

    const data = {
      data: {
        date: today,
        amount,
        subcategory,
        category,
        categoryType,
        nature,
        mode,
        description
      }
    };

    document.getElementById('statusMsg').textContent = "Sending...";

    fetch(SUBMIT_URL, {
      method: 'POST',
      body: JSON.stringify(data),
      headers: { 'Content-Type': 'application/json' }
    })
    .then(res => res.json())
    .then(result => {
      document.getElementById('statusMsg').textContent = "âœ… Expense saved!";
      // Reset form
      document.getElementById('amount').value = '';
      document.getElementById('subcategory').value = '';
      document.getElementById('category').value = '';
      document.getElementById('categoryType').value = '';
      document.getElementById('nature').value = '';
      document.getElementById('mode').value = '';
      document.getElementById('description').value = '';
    })
    .catch(err => {
      document.getElementById('statusMsg').textContent = "âŒ Submit failed: " + err.message;
    });
  }
</script>
